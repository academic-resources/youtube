<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg-root" width="100%" height="100%" baseProfile="basic" version="1.1" viewBox="0 0 480 360"><d:SVGTestCase xmlns:d="http://www.w3.org/2000/02/svg/testsuite/description/" author="Haroon Sheikh" reviewer="SVGWG" status="accepted" template-version="1.4" testname="$RCSfile: masking-mask-01-b.svg,v $" version="$Revision: 1.8 $"><d:testDescription xmlns="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/SVG11/masking.html#Masking"><p>Test to see if the masking features using the mask element and mask property are available.</p><p>A red rectangle is displayed in the background to help view the result of transparency and masking.</p><p>From top to bottom, the tests are as follows.</p><p>In the top test, a linear gradient is used inside the mask to change the opacity of the rectangle from 1.0 (at the top) to 0.5 (at the bottom).</p><p>In the second test, a simple 50% opaque rectangle is used as a mask.</p><p>In the third test, no mask is used, but a rectangle is shown with 50% opacity. The second and third test should look the same.</p><p>Lastly, a string of text has a mask applied to it. The mask only covers a partial area of the text, so the text should only be half visible. Also the mask consists of 4 rectangles with various levels of opacity.</p></d:testDescription><d:operatorScript xmlns="http://www.w3.org/1999/xhtml"><p>Run the test. No interaction required.</p></d:operatorScript><d:passCriteria xmlns="http://www.w3.org/1999/xhtml"><p>The rendered picture should match the reference image, except variations are possible in the labelling text (per CSS2 rules).</p></d:passCriteria></d:SVGTestCase><title id="test-title">$RCSfile: masking-mask-01-b.svg,v $</title><defs><font-face font-family="SVGFreeSansASCII" unicode-range="U+0-7F"><font-face-src><font-face-uri xlink:href="../resources/SVGFreeSans.svg#ascii"/></font-face-src></font-face></defs><g id="test-body-content" font-family="SVGFreeSansASCII,sans-serif" font-size="18"><style type="text/css">@font-face{font-family:larabie-anglepoise;src:url(woffs/anglepoi.woff) format(&quot;woff&quot;)}</style><defs><font horiz-adv-x="313"><font-face alphabetic="0" ascent="703" descent="-300" font-family="larabie-anglepoise" panose-1="0 0 4 0 0 0 0 0 0 0" units-per-em="1000"/><glyph d="M371 1H29V144H264Q264 151 264 166Q265 180 265 188Q265 212 249 212H132Q83 212 55 247Q29 279 29 329V566H335V422H136V375Q136 360 144 356Q148 355 168 355H279Q327 355 352 309Q371 273 371 221V1Z" glyph-name="S" horiz-adv-x="385" unicode="S"/><glyph d="M365 563L183 -33L0 563H101L183 296L270 563H365Z" glyph-name="V" horiz-adv-x="351" unicode="V"/><glyph d="M355 1H18V564H355V420H125V144H248V211H156V355H355V1Z" glyph-name="G" horiz-adv-x="367" unicode="G"/><hkern g1="V" g2="G" k="-40"/></font></defs><g font-family="SVGFreeSansASCII,sans-serif"><text x="10" y="20" font-size="14">Test for mask support</text><rect width="100" height="260" x="10" y="30" fill="red"/><mask id="mask1" width="100" height="60" x="60" y="50" color-interpolation="linearRGB" maskUnits="userSpaceOnUse"><defs><linearGradient id="Grad1" x1="60" x2="60" y1="50" y2="120" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fff" stop-opacity="1"/><stop offset="1" stop-color="#fff" stop-opacity=".5"/></linearGradient></defs><rect width="100" height="60" x="60" y="50" fill="url(#Grad1)"/></mask><rect width="100" height="60" x="60" y="50" fill="#0f0" mask="url(#mask1)"/><text x="200" y="65" font-size="12">Mask with linear gradient from</text><text x="200" y="80" font-size="12">opacity=1 to opactity=0.5</text><mask id="mask2" width="100" height="30" x="60" y="120" color-interpolation="linearRGB" maskUnits="userSpaceOnUse"><rect width="100" height="30" x="60" y="120" fill="#fff" fill-opacity=".5"/></mask><rect width="100" height="30" x="60" y="120" fill="#0f0" mask="url(#mask2)"/><text x="200" y="135" font-size="12">Mask with uniform opacity of 0.5</text><rect width="100" height="30" x="60" y="160" fill="#0f0" fill-opacity=".5"/><text x="200" y="175" font-size="12">Rectangle with uniform opacity of 0.5</text><mask id="mask3" width="200" height="100" x="60" y="200" color-interpolation="linearRGB" maskUnits="userSpaceOnUse"><rect width="200" height="25" x="60" y="200" fill="#fff" fill-opacity=".5"/><rect width="200" height="25" x="60" y="225" fill="#fff" fill-opacity=".2"/><rect width="200" height="25" x="60" y="250" fill="#fff" fill-opacity="1"/><rect width="200" height="25" x="60" y="275" fill="#fff" fill-opacity=".7"/></mask><text x="60" y="280" fill="#0f0" font-family="larabie-anglepoise" font-size="110" mask="url(#mask3)">SVG</text><text x="200" y="225" font-size="12">Text with mask containing rectangles</text><text x="200" y="240" font-size="12">of various opacities</text></g></g><g font-family="SVGFreeSansASCII,sans-serif" font-size="32"><text id="revision" x="10" y="340" fill="#000" stroke="none">$Revision: 1.8 $</text></g><rect id="test-frame" width="478" height="358" x="1" y="1" fill="none" stroke="#000"/></svg>