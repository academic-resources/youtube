<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg-root" width="100%" height="100%" baseProfile="full" version="1.1" viewBox="0 0 480 360"><d:SVGTestCase xmlns:d="http://www.w3.org/2000/02/svg/testsuite/description/" author="CL" reviewer="ED" status="accepted" template-version="1.4" testname="$RCSfile: filters-displace-02-f.svg,v $" version="$Revision: 1.9 $"><d:testDescription xmlns="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/SVG11/filters.html#feDisplacementMapElement"><p>This tests feDisplacementMap without feImage. The input geometry is also used as the displacement map.</p><p>The bottom subtest tests that not specifying the &apos;xChannelSelector&apos; attribute has the same effect as if &apos;A&apos; was specified.</p><p>In both cases the filter input image consists of a gradient that is rendered using the default &apos;color-interpolation&apos; which is &apos;sRGB&apos;. The default colorspace for filter primitives is &apos;linearRGB&apos;. The filtering operation happens in &apos;linearRGB&apos; space and the result is then transformed back to &apos;sRGB&apos; space for display.</p></d:testDescription><d:operatorScript xmlns="http://www.w3.org/1999/xhtml"><p>Run the test. No interaction required.</p></d:operatorScript><d:passCriteria xmlns="http://www.w3.org/1999/xhtml"><p>The test has passed if:</p><ul><li>the top rectangle is overlapped by a gradient that has its blackest part centered around the vertical green line that splits the top rectangle</li><li>the bottom right corner of the area covered by the top gradient is aligned with the corner just below the top rectangle</li><li>the bottom rectangle is overlapped by a gradient that is displaced upwards with the maximum displacement the middle indicated by the vertical green line that splits the bottom rectangle</li><li>no part of the bottom gradient extends outside the bottom rectangle</li><li>both gradients use the same gradientcolors</li></ul></d:passCriteria></d:SVGTestCase><title id="test-title">$RCSfile: filters-displace-02-f.svg,v $</title><defs><font-face font-family="SVGFreeSansASCII" unicode-range="U+0-7F"><font-face-src><font-face-uri xlink:href="../resources/SVGFreeSans.svg#ascii"/></font-face-src></font-face></defs><g id="test-body-content" font-family="SVGFreeSansASCII,sans-serif" font-size="18"><linearGradient id="fade" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#600" stop-opacity="0"/><stop offset=".5" stop-color="#000" stop-opacity="1"/><stop offset="1" stop-color="#300" stop-opacity="0"/></linearGradient><filter id="bend" width="1" height="2.28" x="0" y="-1.3" filterUnits="objectBoundingBox"><feDisplacementMap in="SourceGraphic" in2="SourceAlpha" scale="30" yChannelSelector="A"/></filter><filter id="slide" width="1.3" height="1.3" x="-.3" y="0" filterUnits="objectBoundingBox"><feDisplacementMap in="SourceGraphic" in2="SourceGraphic" scale="80" xChannelSelector="R" yChannelSelector="G"/></filter><polyline stroke="green" stroke-width="2" points="280 40 280 120"/><polyline fill="none" stroke="green" stroke-width="2" points="400 144 420 144 420 124"/><rect width="360" height="80" x="60" y="40" fill="none" stroke="#933" stroke-width="2"/><rect width="360" height="80" x="60" y="40" fill="url(#fade)" filter="url(#slide)"/><polyline stroke="green" stroke-width="2" points="240 180 240 260"/><rect width="360" height="80" x="60" y="180" fill="none" stroke="#933" stroke-width="2"/><rect width="360" height="80" x="60" y="180" fill="url(#fade)" filter="url(#bend)"/></g><g font-family="SVGFreeSansASCII,sans-serif" font-size="32"><text id="revision" x="10" y="340" fill="#000" stroke="none">$Revision: 1.9 $</text></g><rect id="test-frame" width="478" height="358" x="1" y="1" fill="none" stroke="#000"/></svg>