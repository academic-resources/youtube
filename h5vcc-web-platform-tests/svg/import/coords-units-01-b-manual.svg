<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg-root" width="100%" height="100%" baseProfile="basic" version="1.1" viewBox="0 0 480 360"><d:SVGTestCase xmlns:d="http://www.w3.org/2000/02/svg/testsuite/description/" author="Vincent Hardy" reviewer="SVGWG" status="accepted" template-version="1.4" testname="$RCSfile: coords-units-01-b.svg,v $" version="$Revision: 1.7 $"><d:testDescription xmlns="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/SVG11/coords.html#Units"><p>Verify the conversion processing of percentage and fraction values relative to object bounding boxes. This is used when defining linear and radial gradients as well as patterns.</p><p>The test validates conversion for coordinates, width, height and length. The first test defines three corresponding linear gradients, which specify coordinates using percentages for one, fractions for the second and user coordinates for the third. The second test defines three corresponding radial gradients, which specify a length (radius) using percentages for the first, fractions for the second and user space for the third. Finally, the third test defines three corresponding patterns, which specify their width and height using percentages for the first, fractions for the second and user space coordinates for the last one.</p><p>The test also assumes that linear and radial gradients, as well as patterns are implemented.</p></d:testDescription><d:operatorScript xmlns="http://www.w3.org/1999/xhtml"><p>Run the test. No interaction required.</p></d:operatorScript><d:passCriteria xmlns="http://www.w3.org/1999/xhtml"><p>The rendered image should match the reference image. Also, the text may show minor differences, per CSS2 rules for font selection and matching.</p></d:passCriteria></d:SVGTestCase><title id="test-title">$RCSfile: coords-units-01-b.svg,v $</title><defs><font-face font-family="SVGFreeSansASCII" unicode-range="U+0-7F"><font-face-src><font-face-uri xlink:href="../resources/SVGFreeSans.svg#ascii"/></font-face-src></font-face></defs><g id="test-body-content" font-family="SVGFreeSansASCII,sans-serif" font-size="18"><g font-size="14"><linearGradient id="linearBoundingBoxPercentage" x1="0%" x2="100%" y1="0%" y2="0%" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#f0f"/><stop offset="1" stop-color="#00f"/></linearGradient><linearGradient id="linearBoundingBoxFraction" x1="0" x2="1" y1="0" y2="0" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#f0f"/><stop offset="1" stop-color="#00f"/></linearGradient><linearGradient id="linearUserSpace" x1="0" x2="50" y1="0" y2="0" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#f0f"/><stop offset="1" stop-color="#00f"/></linearGradient><text x="30" y="30">Bounding box relative coordinates (percentage and fraction)</text><g transform="translate(30, 40)"><rect width="50" height="20" x="0" y="0" fill="url(#linearBoundingBoxPercentage)"/><rect width="50" height="20" x="0" y="0" fill="url(#linearBoundingBoxFraction)" transform="translate(0, 20)"/><rect width="50" height="20" x="0" y="0" fill="url(#linearUserSpace)" transform="translate(0, 40)"/><line x1="0" x2="50" y1="20" y2="20" stroke="#ccc" stroke-width="1"/><line x1="0" x2="50" y1="40" y2="40" stroke="#ccc" stroke-width="1"/><text x="60" y="15">Percentage</text><text x="60" y="35">Fraction</text><text x="60" y="55">User Space</text></g><radialGradient id="radialBoundingBoxPercentage" cx="25%" cy="25%" r="25%" fx="25%" fy="25%" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#f0f"/><stop offset="1" stop-color="#00f"/></radialGradient><radialGradient id="radialBoundingBoxFraction" cx=".25" cy=".25" r=".25" fx=".25" fy=".25" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#f0f"/><stop offset="1" stop-color="#00f"/></radialGradient><radialGradient id="radialUserSpace" cx="15" cy="15" r="15" fx="15" fy="15" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#f0f"/><stop offset="1" stop-color="#00f"/></radialGradient><text x="30" y="130">Bounding box relative length (percentage and fraction)</text><g transform="translate(30, 140)"><rect width="60" height="60" x="0" y="0" fill="url(#radialBoundingBoxPercentage)"/><rect width="60" height="60" x="0" y="0" fill="url(#radialBoundingBoxFraction)" transform="translate(61, 0)"/><rect width="60" height="60" x="0" y="0" fill="url(#radialUserSpace)" transform="translate(122, 0)"/><text x="0" y="73">Percent.</text><text x="61" y="73">Fraction</text><text x="122" y="73">User Space</text></g><pattern id="patternBoundingBoxPercentage" width="50%" height="50%" x="25%" y="25%" patternContentUnits="objectBoundingBox" patternUnits="objectBoundingBox"><circle cx=".5" cy=".5" r=".25" fill="#f0f"/><rect width=".2" height=".2" x=".4" y=".4" fill="#00f"/></pattern><pattern id="patternBoundingBoxFraction" width=".5" height=".5" x=".25" y=".25" patternContentUnits="objectBoundingBox" patternUnits="objectBoundingBox"><circle cx=".5" cy=".5" r=".25" fill="#f0f"/><rect width=".2" height=".2" x=".4" y=".4" fill="#00f"/></pattern><pattern id="patternUserSpace" width="25" height="15" x="12.5" y="7.5" patternContentUnits="userSpaceOnUse" patternUnits="userSpaceOnUse"><circle id="patternContent" cx="25" cy="15" r="10" fill="#f0f"/><rect width="10" height="6" x="20" y="12" fill="#00f"/></pattern><text x="30" y="240">Bounding box relative width/height (percentage and fraction)</text><g transform="translate(30, 250)"><rect width="50" height="30" x="0" y="0" fill="url(#patternBoundingBoxPercentage)" stroke="#000"/><rect width="50" height="30" x="0" y="0" fill="url(#patternBoundingBoxFraction)" stroke="#000" transform="translate(150, 0)"/><rect width="50" height="30" x="0" y="0" fill="url(#patternUserSpace)" stroke="#000" transform="translate(300, 0)"/><text x="60" y="20">Percentage</text><text x="210" y="20">Fraction</text><text x="360" y="20">User Space</text></g></g></g><g font-family="SVGFreeSansASCII,sans-serif" font-size="32"><text id="revision" x="10" y="340" fill="#000" stroke="none">$Revision: 1.7 $</text></g><rect id="test-frame" width="478" height="358" x="1" y="1" fill="none" stroke="#000"/></svg>